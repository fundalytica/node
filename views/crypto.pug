extends layout

block style
    link(href='/stylesheets/crypto.css' rel='stylesheet')
    link(href='/stylesheets/animation.css' rel='stylesheet')
    link(href='/stylesheets/no_more_tables.css' rel='stylesheet')

block scripts
    script(src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js')

    script(src='/javascripts/crypto.js' type='module')

block content
    main.d-flex.flex-column.justify-content-center.text-center.p-4
        div.align-self-center.p-2
            h3.text-dark.p-0.m-0 Digital Assets Portfolio

            p.text-primary.m-0.d-none#demoText #demo

            button.btn.btn-primary.text-nowrap.mt-4.d-none#createButton Create Your Own Portfolio
            button.btn.btn-success.text-nowrap.mt-4.d-none#updateButton Update Portfolio

            - var url = `${locals.api_origin}/v1/crypto/portfolio/update`
            form(id="updateForm" method="POST" action=url).container.mt-4.d-none
                .row.g-2.my-2.justify-content-center
                    .col
                        .btn-group(id="btn-group-alert" role="group")
                            input.btn-check(type="radio" name="action" id="btn-radio-buy" value="buy" checked)
                            label.btn.btn-outline-primary(for="btn-radio-buy") Buy
                            input.btn-check(type="radio" name="action" id="btn-radio-sell" value="sell")
                            label.btn.btn-outline-primary(for="btn-radio-sell") Sell

                .row.g-1.my-2.justify-content-center
                    .col-2
                        input(type="number" id="amountInput" name="amount" step="any" min="0" value="1" placeholder="amount" required).form-control

                    .col-2
                        input(type="text" id="symbolInput" name="symbol" placeholder="symbol" value="BTC" pattern="[a-zA-Z'-'\s]*" required).form-control

                    .col-4
                        .input-group
                            span.input-group-text $
                            input(type="number" id="costInput" name="cost" step="any" min="0" value="40000" placeholder="total cost" required).form-control

                .row.g-2.my-2.justify-content-center
                    .col-auto
                        button.btn.btn-outline-secondary.text-nowrap#cancelButton Back
                    //- .col-auto
                    //-     button.btn.btn-danger.text-nowrap#cancelButton
                    //-         i.fas.fa-times

                    .col-auto
                        button.btn.btn-outline-success.text-nowrap#submitButton Submit

            p#message.pt-2.small.text-primary.d-none

            div.mt-4.d-none.d-flex.flex-wrap.justify-content-center#list

        div.d-flex.flex-grow-1.justify-content-center
            div.align-self-center
                .spinner-border.text-success(id="spinner" role="status")

            div.align-self-center
                p.text-danger(id="error").d-none